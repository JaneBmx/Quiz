{% extends 'admin/admin_page.html.twig' %}
{% block rightbar %}
    <table class="table table-striped table-dark">
        <thead>
        <th>{{ knp_pagination_sortable(users , 'id', 'i.id') }}</th>
        <th>{{ knp_pagination_sortable(users , 'name', 'i.name') }}</th>
        <th>{{ knp_pagination_sortable(users , 'email', 'i.email') }}</th>
        <th>isActive</th>
        <th>role</th>

        </thead>
        <tbody>
        {% for user in users %}
            <tr>
                <td>{{ user.getId }}</td>
                <td>{{ user.getName }}</td>
                <td>{{ user.getEmail }}</td>
                <td>{{ user.getIsActive }}</td>
                <td>{% for role in user.getRoles %}
                        |{{ role }}|
                    {% endfor %}
                </td>
                <td>
                    <a href="{{ path('app_home') }}" class="btn btn-warning edit_user">
                        Edit
                    </a>
                </td>
                <td>
                    {% if user.getIsActive == 1 %}
                        <a href="{{ path('app_block_user',{"id":user.getId,"flag":0}) }}"
                           class="btn btn-primary block_user">
                            Block
                        </a>
                    {% else %}
                        <a href="{{ path('app_block_user',{"id":user.getId,"flag":1}) }}"
                           class="btn btn-outline-primary block_user">
                            Unlock
                        </a>
                    {% endif %}
                </td>
            </tr>
        {% endfor %}
        <div class="pagination">
            {{ knp_pagination_render(users) }}
        </div>
        </tbody>
    </table>

{% endblock %}